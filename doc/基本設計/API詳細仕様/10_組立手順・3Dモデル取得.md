# 10. 組立手順・3Dモデル取得 API 詳細仕様

## 1. エンドポイント情報

| 項目     | 内容                                              |
|----------|---------------------------------------------------|
| メソッド | GET                                               |
| URL      | /api/{plan_id}/assembly_parts/procedure/{procedure_no} |
| 概要     | 指定plan_idのn番目の組立手順とその3Dモデル（objファイル）を返却する |

## 2. リクエストパラメータ

| 区分             | 名称          | 内容                                 |
|------------------|---------------|--------------------------------------|
| パスパラメータ   | plan_id       | 画像アップロード時に発行されたUUID    |
| パスパラメータ   | procedure_no  | 取得したい組立手順番号（1始まりの整数）|
| クエリパラメータ | なし          | -                                    |
| リクエストボディ | なし          | -                                    |

## 3. レスポンス

| ステータスコード | 意味                                         |
|------------------|----------------------------------------------|
| 200 OK           | 正常に組立手順・3Dモデルデータを返却         |
| 400 Bad Request  | plan_idまたはprocedure_noが不正な場合        |
| 404 Not Found    | 指定plan_idまたはprocedure_noが存在しない場合|
| 500 Internal Server Error    | 内部エラー                 |

| 成功時のレスポンス例         |
|-----------------------------|
| { "step": 1, "description": "部品Aと部品Bを接合", "model": "OBJファイルのテキスト内容" } |

| 失敗時のレスポンス例         |
|-----------------------------|
| { "error": "エラーメッセージ" } |

## 4. バリデーションルール

| ルール内容                        |
|-----------------------------------|
| plan_idがUUID形式であること       |
| procedure_noが1以上の整数であること |
| procedure_noが組立手順数以内であること |

## 5. 認証・認可

| 内容                                 |
|--------------------------------------|
| 現状なし（将来的に認証追加の可能性あり） |

## 6. 備考

| 項目         | 内容                                                                 |
|--------------|----------------------------------------------------------------------|
| 特記事項     | 組立手順取得可否確認APIでready: trueの場合のみ利用可能               |
| 使用例（curl）| `curl -X GET http://localhost:8000/api/123e4567-e89b-12d3-a456-426614174000/assembly_parts/procedure/1` |
